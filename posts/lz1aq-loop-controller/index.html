<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>LZ1AQ Loop Controller | VE2HEW</title>
<meta name=keywords content><meta name=description content="I wanted to build a fully remotable LZ1AQ Active Antenna controller with off the shelf components. It is very cheap to buy ESP8266 MCUs and multi-channel relay boards online. Why reinvent the wheel? This project can be easily adapted to control remote antenna switches and other devices that can be controlled with relays.
View on Github
Wiring Diagram Usage Navigate to http://loopcontroller.local/
Auxiliary Relay Relay 4 connects to pin D1 (GPIO 5)"><meta name=author content="Anthony Di Iorio"><link rel=canonical href=https://ve2hew.com/posts/lz1aq-loop-controller/><link crossorigin=anonymous href=/assets/css/stylesheet.8ff279795d5140f7e8dc213b7b8c08564fb0bf6c6d642615d60002d385d0245f.css integrity="sha256-j/J5eV1RQPfo3CE7e4wIVk+wv2xtZCYV1gAC04XQJF8=" rel="preload stylesheet" as=style><link rel=icon href=https://ve2hew.com/favicon-16x16.png><link rel=icon type=image/png sizes=16x16 href=https://ve2hew.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ve2hew.com/favicon-32x32.png><link rel=apple-touch-icon href=https://ve2hew.com/apple-touch-icon.png><link rel=mask-icon href=https://ve2hew.com/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-01TMS5LH0L"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-01TMS5LH0L",{anonymize_ip:!1})}</script><meta property="og:title" content="LZ1AQ Loop Controller"><meta property="og:description" content="I wanted to build a fully remotable LZ1AQ Active Antenna controller with off the shelf components. It is very cheap to buy ESP8266 MCUs and multi-channel relay boards online. Why reinvent the wheel? This project can be easily adapted to control remote antenna switches and other devices that can be controlled with relays.
View on Github
Wiring Diagram Usage Navigate to http://loopcontroller.local/
Auxiliary Relay Relay 4 connects to pin D1 (GPIO 5)"><meta property="og:type" content="article"><meta property="og:url" content="https://ve2hew.com/posts/lz1aq-loop-controller/"><meta property="og:image" content="https://ve2hew.com/posts/lz1aq-loop-controller/controller-1.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-10-16T00:00:00-04:00"><meta property="article:modified_time" content="2020-10-16T00:00:00-04:00"><meta property="og:site_name" content="VE2HEW Anthony"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ve2hew.com/posts/lz1aq-loop-controller/controller-1.jpg"><meta name=twitter:title content="LZ1AQ Loop Controller"><meta name=twitter:description content="I wanted to build a fully remotable LZ1AQ Active Antenna controller with off the shelf components. It is very cheap to buy ESP8266 MCUs and multi-channel relay boards online. Why reinvent the wheel? This project can be easily adapted to control remote antenna switches and other devices that can be controlled with relays.
View on Github
Wiring Diagram Usage Navigate to http://loopcontroller.local/
Auxiliary Relay Relay 4 connects to pin D1 (GPIO 5)"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ve2hew.com/posts/"},{"@type":"ListItem","position":2,"name":"LZ1AQ Loop Controller","item":"https://ve2hew.com/posts/lz1aq-loop-controller/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"LZ1AQ Loop Controller","name":"LZ1AQ Loop Controller","description":"I wanted to build a fully remotable LZ1AQ Active Antenna controller with off the shelf components. It is very cheap to buy ESP8266 MCUs and multi-channel relay boards online. Why reinvent the wheel? This project can be easily adapted to control remote antenna switches and other devices that can be controlled with relays.\nView on Github\nWiring Diagram Usage Navigate to http://loopcontroller.local/\nAuxiliary Relay Relay 4 connects to pin D1 (GPIO 5)","keywords":[],"articleBody":"I wanted to build a fully remotable LZ1AQ Active Antenna controller with off the shelf components. It is very cheap to buy ESP8266 MCUs and multi-channel relay boards online. Why reinvent the wheel? This project can be easily adapted to control remote antenna switches and other devices that can be controlled with relays.\nView on Github\nWiring Diagram Usage Navigate to http://loopcontroller.local/\nAuxiliary Relay Relay 4 connects to pin D1 (GPIO 5)\nYou can enable the 4th relay by setting bool auxEnable = true;\nYou can invert the button color for normally closed by setting bool auxNC = true;\nYou can set the button label by changing const char *auxLabel = \"Relay 4\";\nI have mine set to power off the loop remotely wired in the normally closed position.\nFor additional relays I suggest using a project like Tasmota.\nBill of Materials Part Number Description QTY NodeMCU V2 Microcontroller with ESP8266 1 N/A 4 Channel Relay Module (Active Low) 1 RM2055M Hammond Enclosure (50 mm x 140 mm x 190 mm) 1 HC-6 Adhesive PCB Supports 8 BK/HTB-24M-R Fuse Holder 5mm x 20mm 1 5MF 300-R Fuse 300 mA 5mm x 20mm 10 N/A DC Connector of your choice 1 N/A Panel Mount Micro USB Extension 1 PGSD-8 Cable Grommet 1 N/A Hookup Wire Lots N/A Dupont Jumpers Wires Lots I used PC Motherboard standoffs and screws to rest the power inserter in the enclosure. It is not mounted permanently to allow easy removal of the front panel.\nLZ1AQ Documentation 1 0 0 Loop A\n0 1 0 Loop B\n1 1 0 A + B\n0 0 1 Vertical\nNote: My code has pin 1 inverted so Loop A is in the Normally Closed position. This allows the loop to function in A mode with no power applied to the MCU or relay board.\nLZ1AQ FAQ: Can the antenna switching be performed digitally?\n","wordCount":"314","inLanguage":"en","image":"https://ve2hew.com/posts/lz1aq-loop-controller/controller-1.jpg","datePublished":"2020-10-16T00:00:00-04:00","dateModified":"2020-10-16T00:00:00-04:00","author":{"@type":"Person","name":"Anthony Di Iorio"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ve2hew.com/posts/lz1aq-loop-controller/"},"publisher":{"@type":"Organization","name":"VE2HEW","logo":{"@type":"ImageObject","url":"https://ve2hew.com/favicon-16x16.png"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ve2hew.com/ accesskey=h title="Anthony VE2HEW (Alt + H)"><img src=https://ve2hew.com/apple-touch-icon.png alt aria-label=logo height=35>Anthony VE2HEW</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://diiorio.me title="Personal Blog"><span>Personal Blog</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://ve2hew.com/logbook title=Logbook><span>Logbook</span></a></li><li><a href=https://ve2hew.com/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://ve2hew.com/contact title=Contact><span>Contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">LZ1AQ Loop Controller</h1><div class=post-meta><span title='2020-10-16 00:00:00 -0400 -0400'>October 16, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Anthony Di Iorio</div></header><figure class=entry-cover><img loading=eager srcset="https://ve2hew.com/posts/lz1aq-loop-controller/controller-1_hu19016e6e7832134aa262cb86ff7a482e_382078_360x0_resize_q75_box.jpg 360w ,https://ve2hew.com/posts/lz1aq-loop-controller/controller-1_hu19016e6e7832134aa262cb86ff7a482e_382078_480x0_resize_q75_box.jpg 480w ,https://ve2hew.com/posts/lz1aq-loop-controller/controller-1_hu19016e6e7832134aa262cb86ff7a482e_382078_720x0_resize_q75_box.jpg 720w ,https://ve2hew.com/posts/lz1aq-loop-controller/controller-1_hu19016e6e7832134aa262cb86ff7a482e_382078_1080x0_resize_q75_box.jpg 1080w ,https://ve2hew.com/posts/lz1aq-loop-controller/controller-1.jpg 1200w" sizes="(min-width: 768px) 720px, 100vw" src=https://ve2hew.com/posts/lz1aq-loop-controller/controller-1.jpg alt="Loop Controller" width=1200 height=1022></figure><div class=post-content><p>I wanted to build a fully remotable LZ1AQ Active Antenna controller with off the shelf components. It is very cheap to buy ESP8266 MCUs and multi-channel relay boards online. Why reinvent the wheel? This project can be easily adapted to control remote antenna switches and other devices that can be controlled with relays.</p><p><a href=https://github.com/anthonydiiorio/LZ1AQ-Loop-Controller/>View on Github</a></p><p><img loading=lazy src=screenshot.png alt></p><p><img loading=lazy src=controller-1.jpg alt></p><p><img loading=lazy src=controller-2.jpg alt></p><p><img loading=lazy src=controller-3.jpg alt></p><h2 id=wiring-diagram>Wiring Diagram<a hidden class=anchor aria-hidden=true href=#wiring-diagram>#</a></h2><p><img loading=lazy src=schematic.png alt></p><h2 id=usage>Usage<a hidden class=anchor aria-hidden=true href=#usage>#</a></h2><p>Navigate to <a href=http://loopcontroller.local/>http://loopcontroller.local/</a></p><h3 id=auxiliary-relay>Auxiliary Relay<a hidden class=anchor aria-hidden=true href=#auxiliary-relay>#</a></h3><p><img loading=lazy src=aux-relay.png alt="Aux relay"></p><p>Relay 4 connects to pin D1 (GPIO 5)<br>You can enable the 4th relay by setting <code>bool auxEnable = true;</code><br>You can invert the button color for normally closed by setting <code>bool auxNC = true;</code><br>You can set the button label by changing <code>const char *auxLabel = "Relay 4";</code></p><p>I have mine set to power off the loop remotely wired in the normally closed position.</p><p>For additional relays I suggest using a project like <a href=https://tasmota.github.io/docs/>Tasmota</a>.</p><h2 id=bill-of-materials>Bill of Materials<a hidden class=anchor aria-hidden=true href=#bill-of-materials>#</a></h2><table><thead><tr><th>Part Number</th><th>Description</th><th>QTY</th></tr></thead><tbody><tr><td>NodeMCU V2</td><td>Microcontroller with ESP8266</td><td>1</td></tr><tr><td>N/A</td><td>4 Channel Relay Module (Active Low)</td><td>1</td></tr><tr><td>RM2055M</td><td>Hammond Enclosure (50 mm x 140 mm x 190 mm)</td><td>1</td></tr><tr><td>HC-6</td><td>Adhesive PCB Supports</td><td>8</td></tr><tr><td>BK/HTB-24M-R</td><td>Fuse Holder 5mm x 20mm</td><td>1</td></tr><tr><td>5MF 300-R</td><td>Fuse 300 mA 5mm x 20mm</td><td>10</td></tr><tr><td>N/A</td><td>DC Connector of your choice</td><td>1</td></tr><tr><td>N/A</td><td>Panel Mount Micro USB Extension</td><td>1</td></tr><tr><td>PGSD-8</td><td>Cable Grommet</td><td>1</td></tr><tr><td>N/A</td><td>Hookup Wire</td><td>Lots</td></tr><tr><td>N/A</td><td>Dupont Jumpers Wires</td><td>Lots</td></tr></tbody></table><p>I used PC Motherboard standoffs and screws to rest the power inserter in the enclosure. It is not mounted permanently to allow easy removal of the front panel.</p><h2 id=lz1aq-documentation>LZ1AQ Documentation<a hidden class=anchor aria-hidden=true href=#lz1aq-documentation>#</a></h2><p>1 0 0 Loop A<br>0 1 0 Loop B<br>1 1 0 A + B<br>0 0 1 Vertical</p><p><strong>Note: My code has pin 1 inverted so Loop A is in the Normally Closed position. This allows the loop to function in A mode with no power applied to the MCU or relay board.</strong></p><p><img loading=lazy src=http://active-antenna.eu/wp-content/uploads/2014/03/digital-control-aaa-faq.jpg alt></p><p><a href=http://active-antenna.eu/amplifier-kit/faq-aaa-1b/#antenna-swith>LZ1AQ FAQ: Can the antenna switching be performed digitally?</a></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://ve2hew.com/posts/diy-programming-cables/><span class=title>« Prev</span><br><span>DIY Programming Cables</span>
</a><a class=next href=https://ve2hew.com/posts/lz1aq-loop-installed/><span class=title>Next »</span><br><span>LZ1AQ Loop Installed</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://ve2hew.com/>VE2HEW</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>